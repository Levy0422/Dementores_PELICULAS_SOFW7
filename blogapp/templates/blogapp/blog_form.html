{% extends 'base.html' %}  <!-- Asume que el segundo template se llama base.html -->

{% block content %}
<div class="container mx-auto p-6">
  <form method="POST" enctype="multipart/form-data" class="flex flex-col lg:flex-row gap-8 animate-fade-in">
    <!-- Área de carga de archivos -->
    <div class="w-full lg:w-1/3 bg-gray-200 dark:bg-gray-800 border-2 border-dashed border-gray-400 dark:border-gray-600 rounded-lg p-6 flex flex-col items-center justify-center text-center transition-colors">
      <svg class="w-12 h-12 text-gray-500 dark:text-gray-400 mb-2" fill="currentColor" viewBox="0 0 20 20">
        <path d="M4 3a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V7.828a2 2 0 00-.586-1.414l-4.828-4.828A2 2 0 0011.172 1H4zm8 2a1 1 0 011 1v3h3a1 1 0 110 2h-3v3a1 1 0 11-2 0v-3H7a1 1 0 110-2h3V6a1 1 0 011-1z"/>
      </svg>
      <p class="mb-2 dark:text-gray-300">Suelta el archivo aquí</p>
      <span class="text-gray-500 text-sm mb-3">o</span>
      <label for="file-upload" class="bg-blue-500 hover:bg-blue-600 dark:bg-[#d0003f] dark:hover:bg-[#bb0039] px-4 py-2 rounded cursor-pointer text-white text-sm transition-colors">
        Subir Archivo
      </label>
      <input type="file" id="file-upload" name="archivo" class="hidden">
    </div>

    <!-- Área de texto enriquecido -->
    <div class="w-full lg:w-2/3 space-y-5">
      <div>
        <label class="block font-semibold mb-1 text-gray-700 dark:text-gray-300">Título *</label>
        <input type="text" name="titulo" placeholder="Escribe aquí el título..." 
               class="w-full p-3 rounded bg-white dark:bg-gray-800 text-gray-900 dark:text-white border border-gray-300 dark:border-gray-600 focus:ring-2 focus:ring-blue-500 dark:focus:ring-[#d0003f] transition-colors">
      </div>

      <div>
        <label class="block font-semibold mb-1 text-gray-700 dark:text-gray-300">Descripción *</label>
        <div id="editor" class="bg-white dark:bg-gray-800 text-gray-900 dark:text-white rounded h-64 border border-gray-300 dark:border-gray-600"></div>
        <input type="hidden" name="contenido" id="contenido">
      </div>

      <button type="submit" 
              class="bg-blue-500 hover:bg-blue-600 dark:bg-[#d0003f] dark:hover:bg-[#bb0039] px-6 py-2 rounded text-white transition-colors">
        Publicar
      </button>
    </div>
  </form>
</div>

<!-- Quill setup -->
<script>
  const quill = new Quill('#editor', {
    theme: 'snow',
    modules: {
      toolbar: [
        ['bold', 'italic', 'underline', 'strike'],
        ['blockquote', 'code-block'],
        [{ 'header': 1 }, { 'header': 2 }],
        [{ 'list': 'ordered'}, { 'list': 'bullet' }],
        [{ 'script': 'sub'}, { 'script': 'super' }],
        ['link', 'image'],
        ['clean']
      ]
    }
  });

  document.querySelector('form').onsubmit = function () {
    document.querySelector('#contenido').value = quill.root.innerHTML;
  };
</script>
{% endblock %}